<div class="flex flex-column align-items-center">
    <div class="absolute left-0 ml-2 md:ml-3 mt-3">
        <p-button icon="pi pi-chevron-left" [rounded]="true" [text]="true" (click)="onBackButtonClicked()"/>
    </div>

    <img src="../../../assets/logo.svg" class="w-8 mt-8 block lg:hidden">
    <p class="text-2xl text-color text-center mb-6">S'inscrire</p>
    <form [formGroup]="registerForm" class="flex flex-column gap-5 p-fluid w-9 lg:w-3 mb-6" (ngSubmit)="onSubmit()">
        <p-floatLabel>
            <input id="email" type="email" pInputText formControlName="email" pAutoFocus [autofocus]="true"/>
            <label for="email">E-mail</label>
        </p-floatLabel>

        <p-floatLabel>
            <input id="username" type="text" pInputText formControlName="username" />
            <label for="username">Nom d'utilisateur</label>
        </p-floatLabel>
        
        <p-floatLabel>
            <p-password [feedback]="true" [toggleMask]="true" formControlName="password">
                <ng-template pTemplate="content"></ng-template>
                <ng-template pTemplate="footer">
                    <p>Critères requis:</p>
                    <ul class="text-red-400">
                        <li [ngClass]="{'text-green-400': registerForm.get('password')?.value?.match('.{8,}')}">Minimum 8 caractères</li>
                        <li [ngClass]="{'text-green-400': registerForm.get('password')?.value?.match('^(?=.*[A-Z])')}">Minimum 1 lettre majuscule</li>
                        <li [ngClass]="{'text-green-400': registerForm.get('password')?.value?.match('(?=.*[a-z])')}">Minimum 1 lettre minuscule</li>
                        <li [ngClass]="{'text-green-400': registerForm.get('password')?.value?.match('(.*[0-9].*)')}">Minimum 1 chiffre</li>
                        <li [ngClass]="{'text-green-400': registerForm.get('password')?.value?.match('(?=.*[!@#$%^&*])')}">Minimum 1 caractère spécial</li>
                    </ul>
                </ng-template>
            </p-password>
            <label for="password">Mot de passe</label>
        </p-floatLabel>

        <p-button type="submit" label="S'inscrire" icon="pi pi-user-plus" [disabled]="registerForm.valid == false"/>
    </form>
</div>
